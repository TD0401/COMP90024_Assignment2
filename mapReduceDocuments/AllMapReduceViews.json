{
  "_id": "_design/TweetCountLatLng",
  "_rev": "21-752ee4d6cbc64baf775fefdf6a0e81c0",
  "views": {
    "countByLatLng": {
      "reduce": "_count",
      "map": "function (doc) {\n  if(doc.coordinates_lat && doc.coordinates_lng && doc.place_name)\n      emit([parseFloat(doc.coordinates_lng.toFixed(3)),parseFloat(doc.coordinates_lat.toFixed(3)),doc.place_name], 1);\n}"
    },
    "countByDay": {
      "reduce": "_count",
      "map": "function (doc) {\n  state = 'None'\n  if(doc.coordinates_lat && doc.coordinates_lng){\n    if(-39.060782 <doc.coordinates_lat &&  doc.coordinates_lat  <-34.135311 && 140.923152 < doc.coordinates_lng && doc.coordinates_lng < 149.909968 )\n      state = 'VIC';\n    if(-34.470930 <doc.coordinates_lat &&  doc.coordinates_lat  <-28.16951 && 140.906307 < doc.coordinates_lng && doc.coordinates_lng < 154.362534 )\n      state = 'NSW';\n    if(-28.948032 <doc.coordinates_lat &&  doc.coordinates_lat  <-12.610675 && 137.971640 < doc.coordinates_lng && doc.coordinates_lng < 153.571355 )\n      state = 'QLD';\n    if(-25.928942 <doc.coordinates_lat &&  doc.coordinates_lat  <-11.409829 && 129.071842 < doc.coordinates_lng && doc.coordinates_lng < 138.080128 )\n      state = 'NT';\n    if(-35.199090 <doc.coordinates_lat &&  doc.coordinates_lat  <-13.277255 && 113.023758 < doc.coordinates_lng && doc.coordinates_lng < 128.887790 )\n      state = 'WA';\n    if(-38.033372 <doc.coordinates_lat &&  doc.coordinates_lat  < -25.450329 && 128.859295 < doc.coordinates_lng && doc.coordinates_lng <141.075410 )\n      state = 'SA';\n    if(-43.354260 <doc.coordinates_lat &&  doc.coordinates_lat  < -40.675674 && 144.678355 < doc.coordinates_lng && doc.coordinates_lng < 148.238422  )\n      state = 'TAS';\n    if(doc.created_at && state != 'None') {\n      emit([state,doc.created_at.substring(0,3)], 1);\n    }\n  }\n  \n}"
    },
    "countByHour": {
      "reduce": "_count",
      "map": "function (doc) {\n  state = 'None'\n  if(doc.coordinates_lat && doc.coordinates_lng){\n    if(-39.060782 <doc.coordinates_lat &&  doc.coordinates_lat  <-34.135311 && 140.923152 < doc.coordinates_lng && doc.coordinates_lng < 149.909968 )\n      state = 'VIC';\n    if(-34.470930 <doc.coordinates_lat &&  doc.coordinates_lat  <-28.16951 && 140.906307 < doc.coordinates_lng && doc.coordinates_lng < 154.362534 )\n      state = 'NSW';\n    if(-28.948032 <doc.coordinates_lat &&  doc.coordinates_lat  <-12.610675 && 137.971640 < doc.coordinates_lng && doc.coordinates_lng < 153.571355 )\n      state = 'QLD';\n    if(-25.928942 <doc.coordinates_lat &&  doc.coordinates_lat  <-11.409829 && 129.071842 < doc.coordinates_lng && doc.coordinates_lng < 138.080128 )\n      state = 'NT';\n    if(-35.199090 <doc.coordinates_lat &&  doc.coordinates_lat  <-13.277255 && 113.023758 < doc.coordinates_lng && doc.coordinates_lng < 128.887790 )\n      state = 'WA';\n    if(-38.033372 <doc.coordinates_lat &&  doc.coordinates_lat  < -25.450329 && 128.859295 < doc.coordinates_lng && doc.coordinates_lng <141.075410 )\n      state = 'SA';\n    if(-43.354260 <doc.coordinates_lat &&  doc.coordinates_lat  < -40.675674 && 144.678355 < doc.coordinates_lng && doc.coordinates_lng < 148.238422  )\n      state = 'TAS';\n    if(doc.created_at && state != 'None') {\n        dt = new Date(doc.created_at)\n        emit([state,dt.getUTCHours()], 1);\n    }\n  }\n}"
    },
    "countByState": {
      "reduce": "_count",
      "map": "function (doc) {\n  state = 'None'\n  if(doc.coordinates_lat && doc.coordinates_lng){\n    if(-39.060782 <doc.coordinates_lat &&  doc.coordinates_lat  <-34.135311 && 140.923152 < doc.coordinates_lng && doc.coordinates_lng < 149.909968 )\n      state= 'VIC';\n    if(-34.470930 <doc.coordinates_lat &&  doc.coordinates_lat  <-28.16951 && 140.906307 < doc.coordinates_lng && doc.coordinates_lng < 154.362534 )\n      state= 'NSW';\n    if(-28.948032 <doc.coordinates_lat &&  doc.coordinates_lat  <-12.610675 && 137.971640 < doc.coordinates_lng && doc.coordinates_lng < 153.571355 )\n      state= 'QLD';\n    if(-25.928942 <doc.coordinates_lat &&  doc.coordinates_lat  <-11.409829 && 129.071842 < doc.coordinates_lng && doc.coordinates_lng < 138.080128 )\n      state= 'NT';\n    if(-35.199090 <doc.coordinates_lat &&  doc.coordinates_lat  <-13.277255 && 113.023758 < doc.coordinates_lng && doc.coordinates_lng < 128.887790 )\n      state= 'WA';\n    if(-38.033372 <doc.coordinates_lat &&  doc.coordinates_lat  < -25.450329 && 128.859295 < doc.coordinates_lng && doc.coordinates_lng <141.075410 )\n      state= 'SA';\n    if(-43.354260 <doc.coordinates_lat &&  doc.coordinates_lat  < -40.675674 && 144.678355 < doc.coordinates_lng && doc.coordinates_lng < 148.238422  )\n      state= 'TAS';\n    if(state != 'None')\n      emit([state], 1);\n  }\n}"
    },
    "countByLatLngReduced": {
      "reduce": "_count",
      "map": "function (doc) {\n  if(doc.coordinates_lat && doc.coordinates_lng && doc.place_name){\n    state = 'None'\n   \n    if(-39.060782 <doc.coordinates_lat &&  doc.coordinates_lat  <-34.135311 && 140.923152 < doc.coordinates_lng && doc.coordinates_lng < 149.909968 )\n      state= 'VIC';\n    if(-34.470930 <doc.coordinates_lat &&  doc.coordinates_lat  <-28.16951 && 140.906307 < doc.coordinates_lng && doc.coordinates_lng < 154.362534 )\n      state= 'NSW';\n    if(-28.948032 <doc.coordinates_lat &&  doc.coordinates_lat  <-12.610675 && 137.971640 < doc.coordinates_lng && doc.coordinates_lng < 153.571355 )\n      state= 'QLD';\n    if(-25.928942 <doc.coordinates_lat &&  doc.coordinates_lat  <-11.409829 && 129.071842 < doc.coordinates_lng && doc.coordinates_lng < 138.080128 )\n      state= 'NT';\n    if(-35.199090 <doc.coordinates_lat &&  doc.coordinates_lat  <-13.277255 && 113.023758 < doc.coordinates_lng && doc.coordinates_lng < 128.887790 )\n      state= 'WA';\n    if(-38.033372 <doc.coordinates_lat &&  doc.coordinates_lat  < -25.450329 && 128.859295 < doc.coordinates_lng && doc.coordinates_lng <141.075410 )\n      state= 'SA';\n    if(-43.354260 <doc.coordinates_lat &&  doc.coordinates_lat  < -40.675674 && 144.678355 < doc.coordinates_lng && doc.coordinates_lng < 148.238422  )\n      state= 'TAS';\n    if(state != 'None')\n        emit([state,parseFloat(doc.coordinates_lng.toFixed(2)),parseFloat(doc.coordinates_lat.toFixed(2)),doc.place_name], 1);\n  }\n}"
    }
  },
  "language": "javascript"
}