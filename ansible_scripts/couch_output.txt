
PLAY [localhost] ******************************************************************************************

TASK [Gathering Facts] ************************************************************************************
ok: [localhost]

TASK [openstack-couchDB-common : Install pip] *************************************************************
changed: [localhost]

TASK [openstack-couchDB-common : Update pip] **************************************************************
changed: [localhost]

TASK [openstack-couchDB-common : Install openstacksdk] ****************************************************
changed: [localhost]

TASK [openstack-couchDB-common : Install tweepy] **********************************************************
changed: [localhost]

TASK [openstack-couchDB-volumes : create vol on MRC] ******************************************************
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: keystoneauth1.exceptions.http.Unauthorized: The request you have made requires authentication. (HTTP 401) (Request-ID: req-09bb2554-7c46-4db2-8027-9d4e74421a36)
failed: [localhost] (item={'vol_name': 'couchDB', 'vol_size': 120}) => {"ansible_loop_var": "item", "changed": false, "item": {"vol_name": "couchDB", "vol_size": 120}, "module_stderr": "Traceback (most recent call last):\n  File \"/root/.ansible/tmp/ansible-tmp-1619890234.7705057-92763141849919/AnsiballZ_os_volume.py\", line 102, in <module>\n    _ansiballz_main()\n  File \"/root/.ansible/tmp/ansible-tmp-1619890234.7705057-92763141849919/AnsiballZ_os_volume.py\", line 94, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/root/.ansible/tmp/ansible-tmp-1619890234.7705057-92763141849919/AnsiballZ_os_volume.py\", line 40, in invoke_module\n    runpy.run_module(mod_name='ansible.modules.cloud.openstack.os_volume', init_globals=None, run_name='__main__', alter_sys=True)\n  File \"/usr/lib/python3.8/runpy.py\", line 207, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/usr/lib/python3.8/runpy.py\", line 97, in _run_module_code\n    _run_code(code, mod_globals, init_globals,\n  File \"/usr/lib/python3.8/runpy.py\", line 87, in _run_code\n    exec(code, run_globals)\n  File \"/tmp/ansible_os_volume_payload_0fwda_j5/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 256, in <module>\n  File \"/tmp/ansible_os_volume_payload_0fwda_j5/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 248, in main\n  File \"/tmp/ansible_os_volume_payload_0fwda_j5/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 155, in _present_volume\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 387, in volume_exists\n    return self.get_volume(name_or_id) is not None\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 133, in get_volume\n    return _utils._get_entity(self, 'volume', name_or_id, filters)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_utils.py\", line 197, in _get_entity\n    entities = search(name_or_id, filters, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 812, in search_volumes\n    volumes = self.list_volumes()\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 73, in list_volumes\n    self.block_storage.get('/volumes/detail'))\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/service_description.py\", line 87, in __get__\n    proxy = self._make_proxy(instance)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/service_description.py\", line 262, in _make_proxy\n    found_version = temp_adapter.get_api_major_version()\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/adapter.py\", line 354, in get_api_major_version\n    return self.session.get_api_major_version(auth or self.auth, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 1276, in get_api_major_version\n    return auth.get_api_major_version(self, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 500, in get_api_major_version\n    data = get_endpoint_data(discover_versions=discover_versions)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 271, in get_endpoint_data\n    service_catalog = self.get_access(session).service_catalog\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 134, in get_access\n    self.auth_ref = self.get_auth_ref(session)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/generic/base.py\", line 208, in get_auth_ref\n    return self._plugin.get_auth_ref(session, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/v3/base.py\", line 187, in get_auth_ref\n    resp = session.post(token_url, json=body, headers=headers,\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 1149, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 986, in request\n    raise exceptions.from_response(resp, method, url)\nkeystoneauth1.exceptions.http.Unauthorized: The request you have made requires authentication. (HTTP 401) (Request-ID: req-09bb2554-7c46-4db2-8027-9d4e74421a36)\n", "module_stdout": "", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 1}
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: keystoneauth1.exceptions.http.Unauthorized: The request you have made requires authentication. (HTTP 401) (Request-ID: req-416cc76c-fe54-4ea3-839c-3ff012f80cbd)
failed: [localhost] (item={'vol_name': 'couchDB_replication', 'vol_size': 120}) => {"ansible_loop_var": "item", "changed": false, "item": {"vol_name": "couchDB_replication", "vol_size": 120}, "module_stderr": "Traceback (most recent call last):\n  File \"/root/.ansible/tmp/ansible-tmp-1619890240.6025817-186746388182319/AnsiballZ_os_volume.py\", line 102, in <module>\n    _ansiballz_main()\n  File \"/root/.ansible/tmp/ansible-tmp-1619890240.6025817-186746388182319/AnsiballZ_os_volume.py\", line 94, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/root/.ansible/tmp/ansible-tmp-1619890240.6025817-186746388182319/AnsiballZ_os_volume.py\", line 40, in invoke_module\n    runpy.run_module(mod_name='ansible.modules.cloud.openstack.os_volume', init_globals=None, run_name='__main__', alter_sys=True)\n  File \"/usr/lib/python3.8/runpy.py\", line 207, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/usr/lib/python3.8/runpy.py\", line 97, in _run_module_code\n    _run_code(code, mod_globals, init_globals,\n  File \"/usr/lib/python3.8/runpy.py\", line 87, in _run_code\n    exec(code, run_globals)\n  File \"/tmp/ansible_os_volume_payload_9iaj7zck/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 256, in <module>\n  File \"/tmp/ansible_os_volume_payload_9iaj7zck/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 248, in main\n  File \"/tmp/ansible_os_volume_payload_9iaj7zck/ansible_os_volume_payload.zip/ansible/modules/cloud/openstack/os_volume.py\", line 155, in _present_volume\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 387, in volume_exists\n    return self.get_volume(name_or_id) is not None\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 133, in get_volume\n    return _utils._get_entity(self, 'volume', name_or_id, filters)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_utils.py\", line 197, in _get_entity\n    entities = search(name_or_id, filters, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 812, in search_volumes\n    volumes = self.list_volumes()\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/cloud/_block_storage.py\", line 73, in list_volumes\n    self.block_storage.get('/volumes/detail'))\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/service_description.py\", line 87, in __get__\n    proxy = self._make_proxy(instance)\n  File \"/usr/local/lib/python3.8/dist-packages/openstack/service_description.py\", line 262, in _make_proxy\n    found_version = temp_adapter.get_api_major_version()\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/adapter.py\", line 354, in get_api_major_version\n    return self.session.get_api_major_version(auth or self.auth, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 1276, in get_api_major_version\n    return auth.get_api_major_version(self, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 500, in get_api_major_version\n    data = get_endpoint_data(discover_versions=discover_versions)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 271, in get_endpoint_data\n    service_catalog = self.get_access(session).service_catalog\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/base.py\", line 134, in get_access\n    self.auth_ref = self.get_auth_ref(session)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/generic/base.py\", line 208, in get_auth_ref\n    return self._plugin.get_auth_ref(session, **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/identity/v3/base.py\", line 187, in get_auth_ref\n    resp = session.post(token_url, json=body, headers=headers,\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 1149, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/local/lib/python3.8/dist-packages/keystoneauth1/session.py\", line 986, in request\n    raise exceptions.from_response(resp, method, url)\nkeystoneauth1.exceptions.http.Unauthorized: The request you have made requires authentication. (HTTP 401) (Request-ID: req-416cc76c-fe54-4ea3-839c-3ff012f80cbd)\n", "module_stdout": "", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 1}

PLAY RECAP ************************************************************************************************
localhost                  : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

